// import { css_vh } from "../utils/lib";

export const SCREENFREE_GREEN = 'rgb(3, 125, 60)';
export const SCREENFREE_YELLOW = 'rgb(250, 217, 5)';
export const SCREENFREE_RED    = 'rgb(91, 20, 19)';

export const batterySvg = (batteryStrength) => {
    if (batteryStrength === 0) {
        return `<?xml version="1.0" encoding="UTF-8"?><svg id="Layer_2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 398.9 135.93"><g id="Layer_2-2"><rect x="316.28" y="38.54" width="96.86" height="60.38" transform="translate(433.44 -295.99) rotate(90)" style="fill:#fff;"/><path d="M398.9,121.15h-68.38V16.3h68.38v104.86ZM338.52,113.15h52.38V24.3h-52.38v88.86Z" style="fill:#231f20;"/><path d="M202.13-.46h126.42v103.93c0,19-15.43,34.43-34.43,34.43h-57.55c-19,0-34.43-15.43-34.43-34.43V-.46h0Z" transform="translate(334.07 -196.61) rotate(90)" style="fill:#fff;"/><path d="M338.52,135.93h-107.93c-21.19,0-38.43-17.24-38.43-38.43v-57.55c0-21.19,17.24-38.43,38.43-38.43h107.93v134.42ZM230.59,9.52c-16.78,0-30.43,13.65-30.43,30.43v57.55c0,16.78,13.65,30.43,30.43,30.43h99.93V9.52h-99.93Z" style="fill:#231f20;"/><path d="M375.18,55.11h-20.94c-2.21,0-4-1.79-4-4s1.79-4,4-4h20.94c2.21,0,4,1.79,4,4s-1.79,4-4,4Z" style="fill:#231f20;"/><path d="M375.18,90.34h-20.94c-2.21,0-4-1.79-4-4s1.79-4,4-4h20.94c2.21,0,4,1.79,4,4s-1.79,4-4,4Z" style="fill:#231f20;"/><path d="M196.16,72.73h-96.32c-16.33,0-29.62-13.29-29.62-29.62,0-11.92-9.7-21.62-21.62-21.62H4c-2.21,0-4-1.79-4-4s1.79-4,4-4h44.6c16.33,0,29.62,13.29,29.62,29.62,0,11.92,9.7,21.62,21.62,21.62h96.32c2.21,0,4,1.79,4,4s-1.79,4-4,4Z" style="fill:#231f20;"/><circle cx="110.69" cy="65.02" r="61.02" style="fill:#fff;"/><path d="M110.69,130.04c-35.85,0-65.02-29.17-65.02-65.02S74.83,0,110.69,0s65.02,29.17,65.02,65.02-29.17,65.02-65.02,65.02ZM110.69,8c-31.44,0-57.02,25.58-57.02,57.02s25.58,57.02,57.02,57.02,57.02-25.58,57.02-57.02-25.58-57.02-57.02-57.02Z" style="fill:#231f20;"/><path d="M102.02,116.4c-.61,0-1.22-.14-1.8-.43-1.97-1-2.76-3.41-1.76-5.38l21.06-41.57h-30.68l26.94-53.19c1-1.97,3.41-2.76,5.38-1.76,1.97,1,2.76,3.41,1.76,5.38l-21.06,41.57h30.68l-26.94,53.19c-.71,1.39-2.11,2.19-3.57,2.19Z" style="fill:#231f20;"/></g></svg>`;
    }
    const batteryStrenghtRounded = roundBatteryPerc(batteryStrength);
    const batteryBars = Math.ceil(batteryStrenghtRounded / 20);
    let colour = SCREENFREE_GREEN;
    const colours = [];
    if (batteryStrength <= 10) {
        colour = SCREENFREE_RED;
    } else if (batteryStrength > 10 && batteryStrength <= 35) {
        colour = SCREENFREE_YELLOW;
    }
    for (let i = 0; i < 5; i++) {
        if (i < batteryBars) {
            colours.push(colour);
        } else {
            colours.push('#d1d3d4');
        }
    }

    return `<?xml version="1.0" encoding="UTF-8"?><svg
    id="Layer_1"
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 109.21 42.38"
    >
    <path
        d="M104.79,12.63h-7.71v-3.68C97.08,4,93.07,0,88.13,0H8.95C4.01,0,0,4,0,8.95v24.48C0,38.37,4.01,42.38,8.95,42.38h79.18c4.94,0,8.95-4.01,8.95-8.95v-3.69h7.71c2.44,0,4.42-1.98,4.42-4.42v-8.27c0-2.44-1.98-4.42-4.42-4.42ZM91.41,33.43c0,1.81-1.47,3.28-3.28,3.28H8.95c-1.81,0-3.28-1.47-3.28-3.28V8.95c0-1.81,1.47-3.28,3.28-3.28h79.18c1.81,0,3.28,1.47,3.28,3.28v24.48Z"
        style="fill: #133c46"
    />
    <rect
        x="5.67"
        y="5.67"
        width="17.15"
        height="31.04"
        rx="3.28"
        ry="3.28"
        fill="${colours[0]}"
    />
    <path
        d="M19.54,6.67c1.26,0,2.28,1.02,2.28,2.28v24.48c0,1.26-1.02,2.28-2.28,2.28h-10.59c-1.26,0-2.28-1.02-2.28-2.28V8.95c0-1.26,1.02-2.28,2.28-2.28h10.59M19.54,5.67h-10.59c-1.81,0-3.28,1.47-3.28,3.28v24.48c0,1.81,1.47,3.28,3.28,3.28h10.59c1.81,0,3.28-1.47,3.28-3.28V8.95c0-1.81-1.47-3.28-3.28-3.28h0Z"
        style="fill: #fff"
    />
    <rect
        x="22.82"
        y="5.67"
        width="17.15"
        height="31.04"
        rx="3.28"
        ry="3.28"
        fill="${colours[1]}"
    />
    <path
        d="M36.69,6.67c1.26,0,2.28,1.02,2.28,2.28v24.48c0,1.26-1.02,2.28-2.28,2.28h-10.59c-1.26,0-2.28-1.02-2.28-2.28V8.95c0-1.26,1.02-2.28,2.28-2.28h10.59M36.69,5.67h-10.59c-1.81,0-3.28,1.47-3.28,3.28v24.48c0,1.81,1.47,3.28,3.28,3.28h10.59c1.81,0,3.28-1.47,3.28-3.28V8.95c0-1.81-1.47-3.28-3.28-3.28h0Z"
        style="fill: #fff"
    />
    <rect
        x="39.97"
        y="5.67"
        width="17.15"
        height="31.04"
        rx="3.28"
        ry="3.28"
        fill="${colours[2]}"
    />
    <path
        d="M53.84,6.67c1.26,0,2.28,1.02,2.28,2.28v24.48c0,1.26-1.02,2.28-2.28,2.28h-10.59c-1.26,0-2.28-1.02-2.28-2.28V8.95c0-1.26,1.02-2.28,2.28-2.28h10.59M53.84,5.67h-10.59c-1.81,0-3.28,1.47-3.28,3.28v24.48c0,1.81,1.47,3.28,3.28,3.28h10.59c1.81,0,3.28-1.47,3.28-3.28V8.95c0-1.81-1.47-3.28-3.28-3.28h0Z"
        style="fill: #fff"
    />
    <rect
        x="57.12"
        y="5.67"
        width="17.15"
        height="31.04"
        rx="3.28"
        ry="3.28"
        fill="${colours[3]}"
    />
    <path
        d="M70.98,6.67c1.26,0,2.28,1.02,2.28,2.28v24.48c0,1.26-1.02,2.28-2.28,2.28h-10.59c-1.26,0-2.28-1.02-2.28-2.28V8.95c0-1.26,1.02-2.28,2.28-2.28h10.59M70.98,5.67h-10.59c-1.81,0-3.28,1.47-3.28,3.28v24.48c0,1.81,1.47,3.28,3.28,3.28h10.59c1.81,0,3.28-1.47,3.28-3.28V8.95c0-1.81-1.47-3.28-3.28-3.28h0Z"
        style="fill: #fff"
    />
    <rect
        x="74.26"
        y="5.67"
        width="17.15"
        height="31.04"
        rx="3.28"
        ry="3.28"
        fill="${colours[4]}"
    />
    <path
        d="M88.13,6.67c1.26,0,2.28,1.02,2.28,2.28v24.48c0,1.26-1.02,2.28-2.28,2.28h-10.59c-1.26,0-2.28-1.02-2.28-2.28V8.95c0-1.26,1.02-2.28,2.28-2.28h10.59M88.13,5.67h-10.59c-1.81,0-3.28,1.47-3.28,3.28v24.48c0,1.81,1.47,3.28,3.28,3.28h10.59c1.81,0,3.28-1.47,3.28-3.28V8.95c0-1.81-1.47-3.28-3.28-3.28h0Z"
        style="fill: #fff"
    />
    </svg>
`;
}

const roundBatteryPerc = (battLevel) => {
    let roundedBattery = battLevel;
    if (battLevel <= 90 && battLevel >= 71) roundedBattery = 80;
    if (battLevel <= 70 && battLevel >= 51) roundedBattery = 60;
    if (battLevel <= 50 && battLevel >= 31) roundedBattery = 40;
    if (battLevel <= 30 && battLevel >= 11) roundedBattery = 20;
    return roundedBattery;
};
